<!DOCTYPE html>
<html lang="en-US">
<head>
	<style>
		:root {
			--c-bg: #fff;
		}

		html.dark {
			--c-bg: #1d1d1d;
		}

		html, body {
			background-color: var(--c-bg);
		}
	</style>
	<script>
		(() => {
			const { classList } = document.documentElement;
			const userMode = localStorage.getItem('guide-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				classList.toggle('dark', true);
			}

			const themes = ['blurple'];
			let colorTheme = localStorage.getItem('guide-color-theme');

			if (colorTheme !== 'default' && !themes.includes(colorTheme)) {
				colorTheme = 'default';
			}

			if (colorTheme !== 'default') classList.add(`guide-theme-${colorTheme}`);
		})();
	</script>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" href="/cs-guide/favicon.png"><meta name="theme-color" content="#3eaf7c"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:image" content="/cs-guide/meta-image.png"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.20/dist/katex.min.css"><title>Dynamic Programming (Level 2) | CS Guide</title><meta name="description" content="I was bored.">
<link rel="modulepreload" href="/cs-guide/assets/app.1020f729.js"><link rel="modulepreload" href="/cs-guide/assets/dynamic-programming.html.ca4fb025.js"><link rel="modulepreload" href="/cs-guide/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/cs-guide/assets/dynamic-programming.html.14853f45.js">
<link rel="stylesheet" href="/cs-guide/assets/style.0c070fde.css">
</head>
<body>
	<div id="app"><!--[--><div class="theme-container"><header class="navbar"><div class="navbar-wrapper"><div class="navbar-links-wrapper"><div class="navbar-links-container"><span class="navbar-links-home"><a href="/cs-guide/" class="">CS Guide</a></span><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/cs-guide/cs4/" class="nav-link" aria-label="Java Guide (CS4)"><!--[--><!--]--> Java Guide (CS4) <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/cs-guide/cs5/" class="nav-link router-link-active" aria-label="Python Guide (CS5)"><!--[--><!--]--> Python Guide (CS5) <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--></div><div class="navbar-links-container"><button class="toggle-dark-button"><svg class="icon light-icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="icon dark-icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----><div class="toggle-sidebar-button"><svg viewbox="0 0 448 512" class="icon sidebar-menu-icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg><svg viewbox="0 0 24 24" class="icon sidebar-close-icon"><path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41z" fill="currentColor"></path></svg></div></div></div></div></header><div class="content-wrapper"><div class="sidebar-mask"></div><div class="sidebar-wrapper"><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/cs-guide/cs4/" class="nav-link" aria-label="Java Guide (CS4)"><!--[--><!--]--> Java Guide (CS4) <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/cs-guide/cs5/" class="nav-link router-link-active" aria-label="Python Guide (CS5)"><!--[--><!--]--> Python Guide (CS5) <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><div class="sidebar-group sidebar-group-collapsed"><button class="sidebar-heading sidebar-item"> Settings <svg viewbox="0 0 24 24" class="menu-icon"><path d="M7.41 8.58L12 13.17l4.59-4.59L18 10l-6 6l-6-6l1.41-1.42z" fill="currentColor"></path></svg></button><ul style="display:none;"><li><div class="sidebar-item"><div class="theme-options"><ul class="color-theme-options"><span>Theme</span><li><button class="default-theme" title="Green theme"></button></li><li><button class="blurple-theme" title="Blurple theme"></button></li></ul></div></div></li></ul></div><!--[--><!--[--><p class="sidebar-heading sidebar-item">Home</p><ul class=""><li><!--[--><a href="/cs-guide/" class="nav-link sidebar-item" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/cs-guide/whats-new.html" class="nav-link sidebar-item" aria-label="What&#39;s new"><!--[--><!--]--> What&#39;s new <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Introduction</p><ul class=""><li><!--[--><a href="/cs-guide/cs5/" class="nav-link router-link-active sidebar-item" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Quarter 2</p><ul class=""><li><!--[--><a href="/cs-guide/cs5/2/sorting-algorithms.html" class="nav-link sidebar-item" aria-label="Sorting Algorithms"><!--[--><!--]--> Sorting Algorithms <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside></div><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="dynamic-programming-level-2" tabindex="-1"><a class="header-anchor" href="#dynamic-programming-level-2" aria-hidden="true">#</a> Dynamic Programming (Level 2)</h1><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>This is a &quot;Level 2&quot; topic, which means it is a topic mentioned, but not fully discussed. This is here to serve as extra reading, and can be skipped without having any effect on the normal topics.</p><p>Before you proceed to this topic, it is heavily suggested that you read <a href="/cs-guide/cs5/2/recursion.html" class="">Recursion</a> first, as this topic will require you to have a proper and working understanding of it.</p></div><p>What is Dynamic Programming? It is a problem-solving approach that involves simplifying a complex problem into smaller subproblems and optimizing how the complex problem is solved, normally by storing their solutions. It&#39;s a little hard to get at first, but hopefully, with a few visual aids, by the end of this topic, you&#39;d have a good amount of knowledge on Dynamic Programming.</p><h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction" aria-hidden="true">#</a> Introduction</h2><p>As I&#39;ve mentioned above, Dynamic Programming involves <strong>simplifying a complex problem into smaller subproblems</strong> and <strong>optimizing how the complex problem is solved</strong>. To get started, we will first tackle the part of &quot;simplifying a complex problem into smaller subproblems&quot;.</p><p>This is where <a href="/cs-guide/cs5/2/recursion.html" class="">Recursion</a> comes in. In our discussion on Recursion, we explained that it is an occurence that happens when a process depends on a simpler or previous version of itself. Here, our &quot;smaller subproblems&quot; will be the base and recursive case, which we will optimize.</p><h2 id="problem" tabindex="-1"><a class="header-anchor" href="#problem" aria-hidden="true">#</a> Problem</h2><p>For this topic, we will be using the <strong>Fibonacci Sequence</strong> as the problem to be solved, thanks to it&#39;s relatively easy complexity in the topic of Dynamic Programming.</p><h2 id="naive-recursion" tabindex="-1"><a class="header-anchor" href="#naive-recursion" aria-hidden="true">#</a> Naive Recursion</h2><p>This isn&#39;t really an explicit Dynamic Programming approach, but rather an approach to start implementing Dynamic Programming.</p><p>For this example, let us use our Fibonacci Sequence code from the <a href="/cs-guide/cs5/2/recursion.html" class="">Recursion</a> topic.</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">fib</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">or</span> n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> n

	<span class="token keyword">return</span> fib<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> fib<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>If we input a value of 5 to this function, the recursive calls would look like this:</p><img src="/cs-guide/assets/fib_tree.1f6d305c.png" class="center x75" alt="A tree of the recursive calls of the Fibonacci Sequence with n = 5"><p>This is a recursion tree, and it&#39;s useful in visualizing the recursive calls a function does.</p><p>Now, what if we input a value like 35, or 50? Can you imagine how big this recursion tree would be? What about the running time? How slow would that be?</p><p>If you are a keen observer, you&#39;d notice that there are multiple repeated function calls in this recursion tree.</p><img src="/cs-guide/assets/fib_tree_highlighted.2f62a50f.png" class="center x75" alt="A tree of the recursive calls of the Fibonacci Sequence with n = 5"><p>Since we already know the function values of these inputs when we run them for the first time, it&#39;d be redundant to perform the same calculation again. This is where we can use Dynamic Programming to <strong>optimize how the complex problem is solved</strong>.</p><h2 id="top-down-memoization" tabindex="-1"><a class="header-anchor" href="#top-down-memoization" aria-hidden="true">#</a> Top-Down (Memoization)</h2><p>The top-down approach or <strong>memoization</strong> involves starting from the main problem and recursively solve subproblems while storing their results. Since we store their results, we can use the stored result as our output instead of computing it again, and is the reason why this approach is called top-down: because we are working from the top all the way down to our base cases.</p><p>To implement this approach, we need to make a slight adjustment to our original <code>fib</code> function.</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">fib</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
	memo <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

	<span class="token keyword">def</span> <span class="token function">inner_fib</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
		<span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">or</span> n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
			<span class="token keyword">return</span> n

		<span class="token keyword">return</span> fib<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> fib<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span>

	<span class="token keyword">return</span> inner_fib<span class="token punctuation">(</span>n<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>First, we create a nested <code>inner_fib</code> function to handle the recursion and move our original function logic there. Next, we create an outer <code>fib</code> function that holds the <strong>dictionary</strong> variable called <code>memo</code> to store the computed values. Lastly, we pass <code>n</code> to the <code>inner_fib</code> function and return it&#39;s value.</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>A <strong>dictionary</strong> is a data structure that store key-value pairs, where each key corresponds to a specific value. We will be taking advantage of this key-value structure to store our input (the key) and it&#39;s corresponding computed value (the value).</p><p>If you want to read more, you can check out the <a href="https://docs.python.org/3/tutorial/" target="_blank" rel="noopener noreferrer">Python Tutorial<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariaHidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> page on the <a href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries" target="_blank" rel="noopener noreferrer">Dictionary<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariaHidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p></div><p>Now, we need to add a way to store our computed value to the <code>memo</code> dictionary. We can use this by using the <code>dict[key]</code> syntax and setting it to our computed value.</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># ...</span>

<span class="token keyword">def</span> <span class="token function">inner_fib</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">or</span> n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> n
		
	memo<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> fib<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> fib<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span>

	<span class="token keyword">return</span> memo<span class="token punctuation">[</span>n<span class="token punctuation">]</span>

<span class="token comment"># ...</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>Here, <code>n</code> is our key, while the <code>value</code> is the value associated with the key <code>n</code>.</p><p>This is good and all, but we are currently only storing values to the dictionary, making it useless. Now, we will add a way to use the computed values from the dictionary. We can do this by checking if the key <code>n</code> is already in the dictionary using the <code>in</code> keyword. If the key is in the dictionary, we know that it&#39;s value has already been computed, so we return the previously computed value instead of computing it again.</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># ...</span>

<span class="token keyword">def</span> <span class="token function">inner_fib</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">or</span> n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> n
	<span class="token keyword">elif</span> n <span class="token keyword">in</span> memo<span class="token punctuation">:</span>
		<span class="token keyword">return</span> memo<span class="token punctuation">[</span>n<span class="token punctuation">]</span>
		
	memo<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> fib<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> fib<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span>

	<span class="token keyword">return</span> memo<span class="token punctuation">[</span>n<span class="token punctuation">]</span>

<span class="token comment"># ...</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>Now, our function should look like this.</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">fib</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
	memo <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

	<span class="token keyword">def</span> <span class="token function">inner_fib</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
		<span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">or</span> n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
			<span class="token keyword">return</span> n
		<span class="token keyword">elif</span> n <span class="token keyword">in</span> memo<span class="token punctuation">:</span>
			<span class="token keyword">return</span> memo<span class="token punctuation">[</span>n<span class="token punctuation">]</span>

		memo<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> inner_fib<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> inner_fib<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span>

		<span class="token keyword">return</span> memo<span class="token punctuation">[</span>n<span class="token punctuation">]</span>

	<span class="token keyword">return</span> inner_fib<span class="token punctuation">(</span>n<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>With this optimization, our function would only calculate the value of <code>n</code> if it hasn&#39;t been calculated yet. This <strong>greatly</strong> decreases the computations needed for the <code>fib</code> function, allowing you to calculate higher values of <code>n</code> faster. However, this is still far from perfect, but is an amazing start at decreasing the amount of computations needed for our <code>fib</code> function.</p><h2 id="bottom-up-tabulation" tabindex="-1"><a class="header-anchor" href="#bottom-up-tabulation" aria-hidden="true">#</a> Bottom-up (Tabulation)</h2><p>While the Top-down approach or Memoization is a good way to optimize our Fibonacci function by storing all the previously computed values to avoid multiple computations for the same value, there is a small problem with it: the recursive call limit. In Python, the recursion limit is <code>1000</code>, which means that if a function calls itself more than 1000 times, a <code>RecursionError</code> occurs. Luckily, there is another approach we can take: <strong>Tabulation</strong>.</p><p>The bottom-up approach or <strong>tabulation</strong> involves iteratively solving the subproblems starting from our base cases to build up an array of values to the solution of the problem.</p><p>For this approach, we will have a slightly different implementation. Firstly, we will start with this:</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">fib</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
	values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>

	<span class="token keyword">return</span> values<span class="token punctuation">[</span>n<span class="token punctuation">]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Bottom-up or <strong>tabulation</strong> involves <strong>building</strong> up an <strong>array of values</strong> to the solution of the problem. Here, we&#39;ve started with our base cases: <code>0</code> and <code>1</code>.</p><p>Now, we will perform the other part, which is to iteratively solve the subproblems.</p><p>We can do this by using a <code>for</code> loop, starting from <code>2</code> (the first recursive case) all the way to <code>n + 1</code>. Why <code>n + 1</code>? It&#39;s because the <code>range()</code> function creates a list of numbers from <code>start</code> (inclusive) to <code>end</code> (exclusive). We shift <code>end</code> by adding <code>1</code> so that <code>n</code> itself is included in the list of numbers.</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">fib</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
	values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>

	<span class="token keyword">if</span> n <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">:</span>
		<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
			<span class="token keyword">pass</span>

	<span class="token keyword">return</span> values<span class="token punctuation">[</span>n<span class="token punctuation">]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Here, we added a condition of <code>n &gt; 2</code>. Since <code>0</code> and <code>1</code> are our base cases, we can just pass them directly.</p><p>If you&#39;ve noticed, we added a <code>pass</code> statement. This is because we haven&#39;t explained how we would build the array yet! To build our array of values, we can use the recursive definition of the Fibonacci sequence:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>n</mi></msub><mo>=</mo><msub><mi>F</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>F</mi><mrow><mi>n</mi><mo>−</mo><mn>2</mn></mrow></msub></mrow><annotation encoding="application/x-tex">F_n = F_{n-1} + F_{n-2} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="base displaystyle textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.13889em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">n</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.13889em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">n</span><span class="mbin">−</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">+</span><span class="mord"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.13889em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">n</span><span class="mbin">−</span><span class="mord mathrm">2</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span></span></p><p>With that, the way we build our array of values will be easy to understand!</p><p>If you still don&#39;t get it, perhaps a little bit of visual aids can help:</p><img src="/cs-guide/assets/fib.ed616f5b.gif" class="center x75" alt="A &#39;math edit&#39; of the Tabulation approach for the Fibonacci Sequence"><p>As you can see here, with every iteration, we relied on the previous two numbers of the Fibonacci sequence to compute for the current one.</p><p>In our <code>for</code> loop, we take the previous and second-previous Fibonacci number using <code>values[n - 1]</code> and <code>values[n - 2]</code>, respectively, then append the result to the <code>values</code> array.</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">fib</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
	values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>

	<span class="token keyword">if</span> n <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">:</span>
		<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
			values<span class="token punctuation">.</span>append<span class="token punctuation">(</span>values<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> values<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

	<span class="token keyword">return</span> values<span class="token punctuation">[</span>n<span class="token punctuation">]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="constant-space-bottom-up-constant-space-tabulation" tabindex="-1"><a class="header-anchor" href="#constant-space-bottom-up-constant-space-tabulation" aria-hidden="true">#</a> Constant-space Bottom-up (Constant-space Tabulation)</h2><p>Now that we&#39;ve optimized our Fibonacci function even further by removing recursion and using a simple <code>for</code> loop instead, our function should be very optimal, time complexity wise. We can optimize it <strong>even further</strong> by reducing our space complexity.</p><p>For the tabulation and memoization approach, we have a space complexity of <code>O(n)</code>, with <code>n</code> being all positive integers from <code>2</code> to <code>n</code>. We have a space complexity of <code>O(n)</code> in both approaches as our dictionary (for memoization) or array (for tabulation) grows as our input grows, either by storing their values (memoization) or building up values to the solution (tabulation).</p><p>In this approach, we will still build up our values to the solution, <strong>but</strong> with some changes so that our new function runs in <strong>constant</strong> space, which means it will <strong>only</strong> use that much space <strong>every time</strong> it is ran.</p><p>For now, our <code>fib</code> function looks like this:</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">fib</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
	values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>

	<span class="token keyword">if</span> n <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">:</span>
		<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
			values<span class="token punctuation">.</span>append<span class="token punctuation">(</span>values<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> values<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

	<span class="token keyword">return</span> values<span class="token punctuation">[</span>n<span class="token punctuation">]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>As you can see, we have an array of <code>values</code> that we use to build up to the solution of the problem. However, as you&#39;ve seen in our visual explanation before, you can notice that we&#39;re only using the previous two elements to build the solution, with the rest being unused. We can take advantage of this fact and use it to our advantage to achieve a constant-space Fibonacci solution.</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">fib</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">or</span> n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> n

	prev <span class="token operator">=</span> <span class="token number">1</span>
	second_prev <span class="token operator">=</span> <span class="token number">0</span>

	<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
		prev<span class="token punctuation">,</span> second_prev <span class="token operator">=</span> second_prev<span class="token punctuation">,</span> prev <span class="token operator">+</span> second_prev

	<span class="token keyword">return</span> prev <span class="token operator">+</span> second_prev
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>Here, we&#39;ve removed our <code>values</code> array and replaced it with a <code>prev</code> and <code>second_prev</code> variable; <code>prev</code> representing <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">F_{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.13889em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">n</span><span class="mbin">−</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span> and <code>second_prev</code> representing <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mrow><mi>n</mi><mo>−</mo><mn>2</mn></mrow></msub></mrow><annotation encoding="application/x-tex">F_{n-2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.13889em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">n</span><span class="mbin">−</span><span class="mord mathrm">2</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>.</p><p>We keep our <code>for</code> loop and, instead of pushing to an array, perform a <strong>multiple assignment</strong>, assigning <code>second_prev</code> to <code>prev</code> and <code>prev + second_prev</code> to <code>prev</code>. We assign the <strong>current</strong> <code>prev</code> to <code>second_prev</code> since it&#39;s value for the next Fibonacci number would be <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mrow><mi>n</mi><mo>−</mo><mn>2</mn></mrow></msub></mrow><annotation encoding="application/x-tex">F_{n-2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.13889em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">n</span><span class="mbin">−</span><span class="mord mathrm">2</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>, as it&#39;s currently <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">F_{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.13889em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">n</span><span class="mbin">−</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>, then we assign <code>prev + second_prev</code> as <code>prev</code> since it&#39;s value for the next Fibbonacci number would be <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">F_{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.13889em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">n</span><span class="mbin">−</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>.</p><p>If you still don&#39;t get it, perhaps a little bit of visual aids can help:</p><img src="/cs-guide/assets/fib_constant.afd72620.gif" class="center x75" alt="A &#39;math edit&#39; of the constant-space Tabulation approach for the Fibonacci Sequence"><p>Now, our Fibbonacci function is very optimized, having a space complexity of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mn>1</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathrm">1</span><span class="mclose">)</span></span></span></span> and a time complexity of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>n</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mclose">)</span></span></span></span>.</p><p>This is how useful Dynamic Programming can be! By using Dynamic Programming, we were able to significantly reduce the time and space complexity of our Fibonacci function, making it significantly faster!</p><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><span class="meta-item-info">1/17/2025, 11:17:05 AM</span></div><!----></footer><!----><!--[--><!--]--></main></div></div><!----><!--]--></div>
	<script type="module" src="/cs-guide/assets/app.1020f729.js" defer></script>
</body>
</html>
